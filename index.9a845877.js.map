{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-0ba53712d7dff1ed.js","src/player.js","node_modules/@parcel/runtime-js/lib/runtime-d535bb8ac9c446bb.js","node_modules/@parcel/runtime-js/lib/runtime-126794e948982c2f.js","node_modules/@parcel/runtime-js/lib/runtime-83165742757ab56f.js","node_modules/@parcel/runtime-js/lib/runtime-899107ed01c50e3d.js","src/index.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"7GeUN\\\":\\\"index.9a845877.js\\\",\\\"dYv6S\\\":\\\"platform.57b92eec.png\\\",\\\"dhwsz\\\":\\\"hills.ad7e8040.png\\\",\\\"puQso\\\":\\\"background.92b6e24f.png\\\",\\\"gHGJ2\\\":\\\"platformSmallTall.8e7b7958.png\\\"}\"));","import { canvas, c } from \"./index\";\r\n\r\nconst gravity = 0.7;\r\n\r\nclass Player {\r\n  constructor() {\r\n    this.speed = 8;\r\n    this.position = {\r\n      x: 100,\r\n      y: 100,\r\n    };\r\n    this.velocity = {\r\n      x: 0,\r\n      y: 1,\r\n    };\r\n    this.width = 30;\r\n    this.height = 30;\r\n  }\r\n  draw() {\r\n    c.fillStyle = \"red\";\r\n    c.fillRect(this.position.x, this.position.y, this.width, this.height);\r\n  }\r\n  update() {\r\n    this.draw();\r\n    this.position.y += this.velocity.y;\r\n    this.position.x += this.velocity.x;\r\n\r\n    if (this.position.y + this.height + this.velocity.y <= canvas.height)\r\n      this.velocity.y += gravity;\r\n  }\r\n}\r\n\r\nclass Platform {\r\n  constructor({ x, y, image }) {\r\n    this.position = {\r\n      x: x,\r\n      y: y,\r\n    };\r\n    (this.image = image),\r\n      (this.width = image.width),\r\n      (this.height = image.height);\r\n  }\r\n  draw() {\r\n    c.drawImage(this.image, this.position.x, this.position.y);\r\n  }\r\n}\r\n\r\nclass GenericObjet {\r\n  constructor({ x, y, image }) {\r\n    this.position = {\r\n      x: x,\r\n      y: y,\r\n    };\r\n    (this.image = image),\r\n      (this.width = image.width),\r\n      (this.height = image.height);\r\n  }\r\n  draw() {\r\n    c.drawImage(this.image, this.position.x, this.position.y);\r\n  }\r\n}\r\n\r\nexport { Player, Platform, GenericObjet };\r\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"dYv6S\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"dhwsz\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"puQso\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"gHGJ2\")).toString();","import { Platform, Player, GenericObjet } from \"./player\";\r\nimport platform from \"../img/platform.png\";\r\nimport hills from \"../img/hills.png\";\r\nimport background from \"../img/background.png\";\r\nimport platformSmallTall from \"../img/platformSmallTall.png\";\r\n\r\nconst canvas = document.querySelector(\"canvas\");\r\nconst c = canvas.getContext(\"2d\");\r\n\r\ncanvas.width = 1024;\r\ncanvas.height = 576;\r\n\r\nfunction createImage(imageSrc) {\r\n  const image = new Image();\r\n  image.src = imageSrc;\r\n  return image;\r\n}\r\n\r\nlet platformImage = createImage(platform);\r\nlet platformSmallTallImage = createImage(platformSmallTall);\r\n\r\nlet player = new Player();\r\nlet platforms = [\r\n  new Platform({ x: -1, y: 470, image: platformImage }),\r\n  new Platform({ x: platformImage.width - 3, y: 470, image: platformImage }),\r\n  new Platform({\r\n    x: platformImage.width * 2 + 100,\r\n    y: 470,\r\n    image: platformImage,\r\n  }),\r\n];\r\nlet genericObjets = [\r\n  new GenericObjet({\r\n    x: -1,\r\n    y: -1,\r\n    image: createImage(background),\r\n  }),\r\n  new GenericObjet({\r\n    x: -1,\r\n    y: -1,\r\n    image: createImage(hills),\r\n  }),\r\n];\r\n\r\nconst keys = {\r\n  right: {\r\n    pressed: false,\r\n  },\r\n  left: {\r\n    pressed: false,\r\n  },\r\n};\r\n\r\nlet scrollOffset = 0;\r\n\r\nfunction init() {\r\n  platformImage = createImage(platform);\r\n\r\n  player = new Player();\r\n  platforms = [\r\n    new Platform({\r\n      x:\r\n        platformImage.width * 4 +\r\n        300 -\r\n        2 +\r\n        platformImage.width -\r\n        platformSmallTallImage.width,\r\n      y: 300,\r\n      image: createImage(platformSmallTall),\r\n    }),\r\n    new Platform({ x: -1, y: 470, image: platformImage }),\r\n    new Platform({\r\n      x: platformImage.width - 3,\r\n      y: 470,\r\n      image: platformImage,\r\n    }),\r\n    new Platform({\r\n      x: platformImage.width * 2 + 100,\r\n      y: 470,\r\n      image: platformImage,\r\n    }),\r\n    new Platform({\r\n      x: platformImage.width * 3 + 300,\r\n      y: 470,\r\n      image: platformImage,\r\n    }),\r\n    new Platform({\r\n      x: platformImage.width * 4 + 300 - 2,\r\n      y: 470,\r\n      image: platformImage,\r\n    }),\r\n    new Platform({\r\n      x: platformImage.width * 5 + 700 - 2,\r\n      y: 470,\r\n      image: platformImage,\r\n    }),\r\n  ];\r\n  genericObjets = [\r\n    new GenericObjet({\r\n      x: -1,\r\n      y: -1,\r\n      image: createImage(background),\r\n    }),\r\n    new GenericObjet({\r\n      x: -1,\r\n      y: -1,\r\n      image: createImage(hills),\r\n    }),\r\n  ];\r\n\r\n  scrollOffset = 0;\r\n}\r\n\r\nfunction animate() {\r\n  requestAnimationFrame(animate);\r\n  c.fillStyle = \"white\";\r\n  c.fillRect(0, 0, canvas.width, canvas.height);\r\n\r\n  genericObjets.forEach((genericObjet) => {\r\n    genericObjet.draw();\r\n  });\r\n\r\n  platforms.forEach((platform) => {\r\n    platform.draw();\r\n  });\r\n  player.update();\r\n\r\n  if (keys.right.pressed && player.position.x < 400) {\r\n    player.velocity.x = player.speed;\r\n  } else if (\r\n    (keys.left.pressed && player.position.x > 100) ||\r\n    (keys.left.pressed && scrollOffset === 0 && player.position.x > 0)\r\n  ) {\r\n    player.velocity.x = -player.speed;\r\n  } else {\r\n    player.velocity.x = 0;\r\n    if (keys.right.pressed) {\r\n      scrollOffset += player.speed;\r\n      platforms.forEach((platform) => {\r\n        platform.position.x -= player.speed;\r\n      });\r\n      genericObjets.forEach((genericObjet) => {\r\n        genericObjet.position.x -= player.speed * 0.66;\r\n      });\r\n    } else if (keys.left.pressed && scrollOffset > 0) {\r\n      scrollOffset -= player.speed;\r\n      platforms.forEach((platform) => {\r\n        platform.position.x -= -player.speed;\r\n      });\r\n      genericObjets.forEach((genericObjet) => {\r\n        genericObjet.position.x += player.speed * 0.66;\r\n      });\r\n    }\r\n  }\r\n\r\n  // platform conllision detection\r\n  platforms.forEach((platform) => {\r\n    if (\r\n      player.position.y + player.height <= platform.position.y &&\r\n      player.position.y + player.height + player.velocity.y >=\r\n        platform.position.y &&\r\n      player.position.x + player.width >= platform.position.x &&\r\n      player.position.x <= platform.position.x + platform.width\r\n    ) {\r\n      player.velocity.y = 0;\r\n    }\r\n  });\r\n  //win condition\r\n  if (scrollOffset > platformImage.width * 5 + 300 - 2) {\r\n    console.log(\"you win\");\r\n  }\r\n  //lose condition\r\n  if (player.position.y > canvas.height) {\r\n    init();\r\n  }\r\n}\r\n\r\ninit();\r\nanimate();\r\n\r\n(function () {\r\n  addEventListener(\"keydown\", ({ keyCode }) => {\r\n    switch (keyCode) {\r\n      case 65:\r\n        console.log(\"left\");\r\n        keys.left.pressed = true;\r\n        break;\r\n\r\n      case 83:\r\n        console.log(\"down\");\r\n        break;\r\n\r\n      case 68:\r\n        console.log(\"right\");\r\n        keys.right.pressed = true;\r\n        break;\r\n\r\n      case 87:\r\n        console.log(\"up\");\r\n        player.velocity.y -= 20;\r\n        break;\r\n    }\r\n  });\r\n})();\r\n\r\n(function () {\r\n  addEventListener(\"keyup\", ({ keyCode }) => {\r\n    switch (keyCode) {\r\n      case 65:\r\n        console.log(\"left\");\r\n        keys.left.pressed = false;\r\n        break;\r\n\r\n      case 83:\r\n        console.log(\"down\");\r\n        break;\r\n\r\n      case 68:\r\n        console.log(\"right\");\r\n        keys.right.pressed = false;\r\n        break;\r\n\r\n      case 87:\r\n        console.log(\"up\");\r\n        player.velocity.y = 0;\r\n        break;\r\n    }\r\n  });\r\n})();\r\n\r\nexport { c, canvas };\r\n"],"names":["$18c11f3350a906ea$export$6503ec6e8aabbaf","$18c11f3350a906ea$export$f7ad0328861e2f03","$18c11f3350a906ea$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$1b5e89835ea262cf$export$2616165974278734","constructor","this","speed","position","x","y","velocity","width","height","draw","$35da740d59af89ba$export$db3b6bfb95261072","fillStyle","fillRect","update","$35da740d59af89ba$export$67ea982130081db","$1b5e89835ea262cf$export$2dffd0b5373a4389","image","drawImage","$1b5e89835ea262cf$export$8b10b2961d86f92b","$76a3f32b06f9bbe2$exports","URL","resolve","import","meta","url","toString","$13d8061481aef597$exports","$c5c0a993df9f9faf$exports","$3a019cec428db9ad$exports","document","querySelector","getContext","$35da740d59af89ba$var$createImage","imageSrc","Image","src","$35da740d59af89ba$var$platformImage","$parcel$interopDefault","$35da740d59af89ba$var$platformSmallTallImage","$35da740d59af89ba$var$player","$35da740d59af89ba$var$platforms","$35da740d59af89ba$var$genericObjets","$35da740d59af89ba$var$keys","right","pressed","left","$35da740d59af89ba$var$scrollOffset","$35da740d59af89ba$var$init","$35da740d59af89ba$var$animate","requestAnimationFrame","forEach","genericObjet","platform1","platform2","platform3","platform4","console","log","addEventListener","keyCode"],"version":3,"file":"index.9a845877.js.map"}