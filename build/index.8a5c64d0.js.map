{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-2d6b7b0964d52968.js","src/player.js","node_modules/@parcel/runtime-js/lib/runtime-d535bb8ac9c446bb.js","node_modules/@parcel/runtime-js/lib/runtime-126794e948982c2f.js","node_modules/@parcel/runtime-js/lib/runtime-83165742757ab56f.js","src/index.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"7GeUN\\\":\\\"index.8a5c64d0.js\\\",\\\"dYv6S\\\":\\\"platform.57b92eec.png\\\",\\\"dhwsz\\\":\\\"hills.ad7e8040.png\\\",\\\"puQso\\\":\\\"background.92b6e24f.png\\\"}\"));","import { canvas, c} from \"./index\";\r\n\r\nconst gravity = 0.7;\r\n\r\nclass Player {\r\n  constructor() {\r\n    this.position = {\r\n      x: 100,\r\n      y: 100,\r\n    };\r\n    this.velocity = {\r\n      x: 0,\r\n      y: 1,\r\n    };\r\n    this.width = 30;\r\n    this.height = 30;\r\n  }\r\n  draw() {\r\n    c.fillStyle = \"red\";\r\n    c.fillRect(this.position.x, this.position.y, this.width, this.height);\r\n  }\r\n  update() {\r\n    this.draw();\r\n    this.position.y += this.velocity.y;\r\n    this.position.x += this.velocity.x;\r\n\r\n    if (this.position.y + this.height + this.velocity.y <= canvas.height)\r\n      this.velocity.y += gravity;\r\n    else this.velocity.y = 0;\r\n  }\r\n}\r\n\r\nclass Plataform {\r\n  constructor({ x, y, image }) {\r\n    this.position = {\r\n      x: x,\r\n      y: y,\r\n    };\r\n    (this.image = image),\r\n    (this.width = image.width),\r\n    (this.height = image.height);\r\n  }\r\n  draw() {\r\n    c.drawImage(this.image, this.position.x, this.position.y);\r\n  }\r\n}\r\n\r\nclass GenericObjet {\r\n  constructor({ x, y, image }) {\r\n    this.position = {\r\n      x: x,\r\n      y: y,\r\n    };\r\n    (this.image = image),\r\n    (this.width = image.width),\r\n    (this.height = image.height);\r\n  }\r\n  draw() {\r\n    c.drawImage(this.image, this.position.x, this.position.y);\r\n  }\r\n}\r\n\r\nexport { Player, Plataform, GenericObjet};\r\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"dYv6S\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"dhwsz\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"puQso\")).toString();","import { Plataform, Player, GenericObjet } from \"./player\";\r\nimport platform from \"../img/platform.png\";\r\nimport hills from \"../img/hills.png\";\r\nimport background from \"../img/background.png\";\r\n\r\nconst canvas = document.querySelector(\"canvas\");\r\nconst c = canvas.getContext(\"2d\");\r\n\r\ncanvas.width = 1024;\r\ncanvas.height = 576;\r\n\r\nfunction createImage(imageSrc) {\r\n  const image = new Image();\r\n  image.src = imageSrc;\r\n  return image;\r\n}\r\n\r\nconst plataformImage = createImage(platform);\r\n\r\nconst player = new Player();\r\nconst plataforms = [\r\n  new Plataform({ x: -1, y: 470, image: plataformImage }),\r\n  new Plataform({ x: plataformImage.width - 3, y: 470, image: plataformImage }),\r\n];\r\nconst genericObjets = [\r\n  new GenericObjet({\r\n    x: -1,\r\n    y: -1,\r\n    image: createImage(background),\r\n  }),\r\n  new GenericObjet({\r\n    x: -1,\r\n    y: -1,\r\n    image: createImage(hills),\r\n  }),\r\n];\r\n\r\nconst keys = {\r\n  right: {\r\n    pressed: false,\r\n  },\r\n  left: {\r\n    pressed: false,\r\n  },\r\n};\r\n\r\nlet scrollOffset = 0;\r\n\r\nfunction animate() {\r\n  requestAnimationFrame(animate);\r\n  c.fillStyle = \"white\";\r\n  c.fillRect(0, 0, canvas.width, canvas.height);\r\n\r\n  genericObjets.forEach((genericObjet) => {\r\n    genericObjet.draw();\r\n  });\r\n\r\n  plataforms.forEach((platform) => {\r\n    platform.draw();\r\n  });\r\n  player.update();\r\n\r\n  if (keys.right.pressed && player.position.x < 400) {\r\n    player.velocity.x = 5;\r\n  } else if (keys.left.pressed && player.position.x > 100) {\r\n    player.velocity.x = -5;\r\n  } else {\r\n    player.velocity.x = 0;\r\n    if (keys.right.pressed) {\r\n      scrollOffset += 5;\r\n      plataforms.forEach((platform) => {\r\n        platform.position.x -= 5;\r\n      });\r\n      genericObjets.forEach((genericObjet) => {\r\n        genericObjet.position.x -= 3;\r\n      });\r\n    } else if (keys.left.pressed) {\r\n      scrollOffset -= 5;\r\n      plataforms.forEach((platform) => {\r\n        platform.position.x -= -5;\r\n      });\r\n      genericObjets.forEach((genericObjet) => {\r\n        genericObjet.position.x += 3;\r\n      });\r\n    }\r\n  }\r\n\r\n  // plataform conllision detection\r\n  plataforms.forEach((platform) => {\r\n    if (\r\n      player.position.y + player.height <= platform.position.y &&\r\n      player.position.y + player.height + player.velocity.y >=\r\n        platform.position.y &&\r\n      player.position.x + player.width >= platform.position.x &&\r\n      player.position.x <= platform.position.x + platform.width\r\n    ) {\r\n      player.velocity.y = 0;\r\n    }\r\n  });\r\n  if (scrollOffset > 2000) {\r\n    console.log(\"you win\");\r\n  }\r\n}\r\nanimate();\r\n\r\n(function () {\r\n  addEventListener(\"keydown\", ({ keyCode }) => {\r\n    switch (keyCode) {\r\n      case 65:\r\n        console.log(\"left\");\r\n        keys.left.pressed = true;\r\n        break;\r\n\r\n      case 83:\r\n        console.log(\"down\");\r\n        break;\r\n\r\n      case 68:\r\n        console.log(\"right\");\r\n        keys.right.pressed = true;\r\n        break;\r\n\r\n      case 87:\r\n        console.log(\"up\");\r\n        player.velocity.y -= 20;\r\n        break;\r\n    }\r\n  });\r\n})();\r\n\r\n(function () {\r\n  addEventListener(\"keyup\", ({ keyCode }) => {\r\n    switch (keyCode) {\r\n      case 65:\r\n        console.log(\"left\");\r\n        keys.left.pressed = false;\r\n        break;\r\n\r\n      case 83:\r\n        console.log(\"down\");\r\n        break;\r\n\r\n      case 68:\r\n        console.log(\"right\");\r\n        keys.right.pressed = false;\r\n        break;\r\n\r\n      case 87:\r\n        console.log(\"up\");\r\n        player.velocity.y = 0;\r\n        break;\r\n    }\r\n  });\r\n})();\r\n\r\nexport { c, canvas };\r\n"],"names":["$18c11f3350a906ea$export$6503ec6e8aabbaf","$18c11f3350a906ea$export$f7ad0328861e2f03","$18c11f3350a906ea$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$1b5e89835ea262cf$export$1339616998893af9","constructor","x","y","image","this","position","width","height","draw","$35da740d59af89ba$export$db3b6bfb95261072","drawImage","$1b5e89835ea262cf$export$8b10b2961d86f92b","$76a3f32b06f9bbe2$exports","URL","resolve","import","meta","url","toString","$13d8061481aef597$exports","$c5c0a993df9f9faf$exports","$35da740d59af89ba$export$67ea982130081db","document","querySelector","getContext","$35da740d59af89ba$var$createImage","imageSrc","Image","src","$35da740d59af89ba$var$plataformImage","$parcel$interopDefault","$35da740d59af89ba$var$player","velocity","fillStyle","fillRect","update","$35da740d59af89ba$var$plataforms","$35da740d59af89ba$var$genericObjets","$35da740d59af89ba$var$keys","right","pressed","left","$35da740d59af89ba$var$scrollOffset","$35da740d59af89ba$var$animate","requestAnimationFrame","forEach","genericObjet","platform1","platform2","platform3","platform4","console","log","addEventListener","keyCode"],"version":3,"file":"index.8a5c64d0.js.map"}